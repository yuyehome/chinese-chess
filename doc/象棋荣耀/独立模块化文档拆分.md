#### **独立模块化文档拆分**

以下是根据“高内聚、低耦合”原则拆分出的独立模块文档。每个模块都是一个可以分配给开发人员（或AI）的独立任务包。

---

**模块文档 1: SYS-CORE - 系统核心**

- **核心职责**: 提供整个游戏运行所需的最底层、与具体玩法无关的技术支持。是所有其他模块的基石。
    
- **包含的需求点**: 9.1 InitScene, 底层框架。
    
- **输入/依赖**: 无（自成体系）。
    
- **输出/接口**:
    
    - 场景管理器 (SceneManager)：负责加载、卸载不同游戏场景。
        
    - 资源管理器 (ResourceManager)：统一管理模型、贴图、音效等资源的加载与释放。
        
    - 输入管理器 (InputManager)：处理鼠标、键盘输入，并分发事件。
        
    - 数据管理器 (DataManager)：负责本地数据的读取与存储（如玩家设置）。
        
    - 事件系统 (EventSystem)：提供全局的事件发布/订阅机制，用于模块间解耦通信。
        
- **开发优先级/所属阶段**: **最高 / 阶段一**。
    

---

**模块文档 2: MOD-GAMEPLAY-BASE - 基础对战框架**

- **核心职责**: 搭建通用的棋盘、棋子逻辑，处理不区分模式的通用交互（如选择、高亮）。
    
- **包含的需求点**: 9.1 BattleScene 框架, 9.2 基础3D表现。
    
- **输入/依赖**: SYS-CORE。
    
- **输出/接口**:
    
    - BoardGrid: 棋盘网格系统，提供坐标转换、格子信息查询等功能。
        
    - PieceController: 棋子表现层基类，处理移动动画、特效播放等。
        
    - PieceData: 棋子数据层基类，存储棋子类型、归属方等信息。
        
    - GameController: 对战场景的总控制器，负责加载棋局、管理游戏状态（进行中、暂停、结束）。
        
- **开发优先级/所属阶段**: **最高 / 阶段一**。
    

---

**模块文档 3: MOD-GAMEMODE-RT - 实时对战规则**

- **核心职责**: 实现所有实时对战模式（M2, M3）的核心规则。
    
- **包含的需求点**: **R1, R2, R3, R4**。
    
- **输入/依赖**: SYS-CORE, MOD-GAMEPLAY-BASE。
    
- **输出/接口**:
    
    - ActionPointSystem: 实现了R1规则的行动点管理器。
        
    - RTMoveValidator: 实时移动验证器，根据行动点和规则判断能否移动。
        
    - RTCollisionSystem: 实时碰撞裁决系统，处理R3规则。
        
    - RTWinConditionChecker: 实时胜利条件检查器，处理R4等规则。
        
    - GameModeRT: 继承自GameController的实时模式主控逻辑。
        
- **开发优先级/所属阶段**: **最高 / 阶段一**。
    

---

**模块文档 4: MOD-GAMEMODE-TB - 回合制对战规则**

- **核心职责**: 实现传统回合制象棋（M1）的规则。
    
- **包含的需求点**: **M1**。
    
- **输入/依赖**: SYS-CORE, MOD-GAMEPLAY-BASE。
    
- **输出/接口**:
    
    - TurnManager: 回合管理器。
        
    - TBMoveValidator: 传统象棋走子规则验证器。
        
    - TBWinConditionChecker: 将、帅、困毙等规则检查器。
        
    - GameModeTB: 继承自GameController的回合制模式主控逻辑。
        
- **开发优先级/所属阶段**: **高 / 阶段二**。
    

---

**模块文档 5: MOD-SKILL - 武将与技能系统**

- **核心职责**: 独立实现武将和技能的定义、数据管理、逻辑执行和冷却管理。
    
- **包含的需求点**: **H1, H2**。
    
- **输入/依赖**: SYS-CORE, MOD-GAMEPLAY-BASE (需要知道棋子信息)。
    
- **输出/接口**:
    
    - HeroDataManager: 管理所有武将卡的数据（等级、经验等）。
        
    - SkillSystem: 技能执行核心，提供ExecuteSkill(skillId, target)等接口。
        
    - CooldownManager: 独立的技能CD管理器。
        
    - **事件**: OnSkillExecuted, OnCooldownStarted, OnCooldownFinished。
        
- **开发优先级/所属阶段**: **高 / 阶段二**。
    

---

**模块文档 6: MOD-AI - 人工智能系统**

- **核心职责**: 提供PVE模式下的AI对手。
    
- **包含的需求点**: **A1, A2**。
    
- **输入/依赖**: SYS-CORE, 以及具体游戏模式的模块 (如 MOD-GAMEMODE-RT 或 MOD-GAMEMODE-TB)。
    
- **输出/接口**:
    
    - AIController: AI总控制器，接收游戏状态，输出决策指令（如MovePieceTo(piece, position)）。
        
    - AIEvaluator: 局面评估器，为AI决策提供依据。
        
    - AIBehaviorTree / AIStateMachine: AI的行为逻辑实现。
        
- **开发优先级/所属阶段**: **高 / 阶段二** (基础AI), **中 / 阶段三** (高级AI)。
    

---

**模块文档 7: MOD-NET - 网络同步系统**

- **核心职责**: 负责所有在线功能的网络通信，包括P2P对战和与Steam后端的交互。
    
- **包含的需求点**: Steam集成, L1, L2 的后端部分。
    
- **输入/依赖**: SYS-CORE。
    
- **输出/接口**:
    
    - NetworkManager: 封装了Fishnet和Steam API的网络管理器。
        
    - StateSynchronizer: 负责游戏状态的同步。
        
    - LobbyManager: 负责房间的创建、加入、匹配。
        
    - LeaderboardService: 负责排行榜数据的提交与查询。
        
- **开发优先级/所属阶段**: **高 / 阶段二**。
    

---

**模块文档 8: MOD-UI - 用户界面系统**

- **核心职责**: 管理所有UI界面（场景UI、弹出窗口、HUD）的显示、交互和状态。
    
- **包含的需求点**: 9.1 中所有UI元素。
    
- **输入/依赖**: SYS-CORE (监听输入事件), 并从其他各个模块获取数据来显示。
    
- **输出/接口**:
    
    - UIManager: UI总管理器，负责打开、关闭各个面板。
        
    - 各个UI Panel的独立脚本，如 MainMenuPanel, RoomPanel, BattleHUD。
        
- **开发优先级/所属阶段**: **各阶段按需开发**。阶段一实现最基础的，后续阶段逐步完善。
    

---

**模块文档 9: MOD-ECONOMY - 经济与进度系统**

- **核心职责**: 管理玩家的货币、任务、签到等所有与成长和付费相关的系统。
    
- **包含的需求点**: **E1, E2, E3, E4**。
    
- **输入/依赖**: SYS-CORE (数据存储), MOD-PERSISTENCE。
    
- **输出/接口**:
    
    - CurrencyManager: 管理金币、人民币。
        
    - TaskManager: 管理任务的进度、完成和奖励发放。
        
    - ShopManager: 商店逻辑。
        
- **开发优先级/所属阶段**: **中 / 阶段三**。
    

---

**模块文档 10: MOD-PERSISTENCE - 数据持久化**

- **核心职责**: 负责将玩家的进度（如拥有的武将、皮肤、金币、任务进度）保存到本地和Steam云。
    
- **包含的需求点**: Steam云存储。
    
- **输入/依赖**: SYS-CORE。
    
- **输出/接口**:
    
    - SaveLoadSystem: 提供统一的 SaveGame() 和 LoadGame() 接口。
        
    - PlayerData: 定义了需要被保存的玩家数据结构。
        
- **开发优先级/所属阶段**: **中 / 阶段三** (在经济等系统开发时同步进行)。